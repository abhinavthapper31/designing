{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "edYd88NdLSg0N4NRZCJ55",
      "type": "text",
      "x": 11814.73634731965,
      "y": -33447.808067674436,
      "width": 466.1640319824219,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a0",
      "roundness": null,
      "seed": 83183163,
      "version": 55,
      "versionNonce": 609748629,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724581234410,
      "link": null,
      "locked": false,
      "text": "Ad-click event Aggregation",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Ad-click event Aggregation",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 249,
      "versionNonce": 1064596277,
      "index": "a1",
      "isDeleted": false,
      "id": "plYB0yeOiuaoRjAaJowEe",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11161.200465395288,
      "y": -33298.389153604,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 781.7042236328125,
      "height": 180,
      "seed": 1040000341,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724593423612,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Functional Requirements\n    - User can click on Ad and get redirected\n    - Advertisers can do analytics on data\n    - Granularity is 1 minute",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Functional Requirements\n    - User can click on Ad and get redirected\n    - Advertisers can do analytics on data\n    - Granularity is 1 minute",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 571,
      "versionNonce": 198744853,
      "index": "a2",
      "isDeleted": false,
      "id": "m54vuesq_j-Ju50GIo-Ep",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12193.781981123046,
      "y": -33309.82863814627,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 751.85986328125,
      "height": 360,
      "seed": 1945625429,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724595197901,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Non Functional Requirements\n    - Scale ? \n    - How many concurrent ads (~10M)\n    - 10000 ad clicks at peak\n    -  low latency, analytics queries (< 1s)\n    - Data integrity (we do not lose clicks)\n    - As realtime as possible\n    - Idempotency of ad clicks",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Non Functional Requirements\n    - Scale ? \n    - How many concurrent ads (~10M)\n    - 10000 ad clicks at peak\n    -  low latency, analytics queries (< 1s)\n    - Data integrity (we do not lose clicks)\n    - As realtime as possible\n    - Idempotency of ad clicks",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 484,
      "versionNonce": 477977947,
      "index": "a4",
      "isDeleted": false,
      "id": "b76Sm2p8hFoUH3_v3SSj-",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11143.581658214478,
      "y": -32810.89005057225,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 750.7079467773438,
      "height": 180,
      "seed": 1892411541,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724596781388,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Input Output INTERFACES :\n    -  Clicks and Advertiser Queries\n    - Redirect and Aggregated click metrics\n",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Input Output INTERFACES :\n    -  Clicks and Advertiser Queries\n    - Redirect and Aggregated click metrics\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "S8t4fVs3p3eKXefCo8863",
      "type": "rectangle",
      "x": 10324.141947270457,
      "y": -31204.90110965253,
      "width": 392.42360820426984,
      "height": 196.21180410213492,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a5",
      "roundness": {
        "type": 3
      },
      "seed": 941553467,
      "version": 181,
      "versionNonce": 2115391573,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "hc3X7zmfJ6ctIorSjy76q",
          "type": "arrow"
        },
        {
          "id": "eY_IJcOtuW3_U6Vt7GezW",
          "type": "arrow"
        }
      ],
      "updated": 1724601548491,
      "link": null,
      "locked": false
    },
    {
      "id": "dYtvBuHiMYeIeLTyamDwN",
      "type": "text",
      "x": 10451.212448974697,
      "y": -31120.810336465904,
      "width": 100.62000274658203,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a6",
      "roundness": null,
      "seed": 305219355,
      "version": 164,
      "versionNonce": 909988981,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548491,
      "link": null,
      "locked": false,
      "text": "USER",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "USER",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 242,
      "versionNonce": 618986965,
      "index": "a7",
      "isDeleted": false,
      "id": "Dt2DBlPdqd3bN90WGUYde",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11007.220142097207,
      "y": -31583.606258483716,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 392.42360820426984,
      "height": 196.21180410213492,
      "seed": 1511338677,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "hc3X7zmfJ6ctIorSjy76q",
          "type": "arrow"
        },
        {
          "id": "QaKYT6vEIU7yD5Xmvk1If",
          "type": "arrow"
        }
      ],
      "updated": 1724601548491,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 304,
      "versionNonce": 567865845,
      "index": "a8",
      "isDeleted": false,
      "id": "_E1TdQj9RX_sTpcNm8N0c",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11080.694491642298,
      "y": -31548.579586736527,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 262.97198486328125,
      "height": 135,
      "seed": 916919317,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Ads service(\nserves adds \nfor a webpage)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Ads service(\nserves adds \nfor a webpage)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "7pBBhgxlVrHki_s5JG8pZ",
      "type": "ellipse",
      "x": 11647.51872045774,
      "y": -31698.265537274427,
      "width": 448.6474157658213,
      "height": 396.0128027430146,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "a9",
      "roundness": {
        "type": 2
      },
      "seed": 717645883,
      "version": 112,
      "versionNonce": 640740181,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "QaKYT6vEIU7yD5Xmvk1If",
          "type": "arrow"
        },
        {
          "id": "0qtopXrbsdcLHIa-UYdJY",
          "type": "arrow"
        }
      ],
      "updated": 1724601548492,
      "link": null,
      "locked": false
    },
    {
      "id": "wV7XNn2gRCVH0JUaInNHR",
      "type": "text",
      "x": 11766.715387267255,
      "y": -31545.525244754048,
      "width": 258.3000183105469,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aA",
      "roundness": null,
      "seed": 1811402421,
      "version": 147,
      "versionNonce": 1643761525,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "Ads \nDB (Postgres)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Ads \nDB (Postgres)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "s0--7pMrQxSQYAFRFrCBJ",
      "type": "text",
      "x": 12162.577463750114,
      "y": -31616.759812605535,
      "width": 316.33197021484375,
      "height": 225,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aB",
      "roundness": null,
      "seed": 1950510837,
      "version": 182,
      "versionNonce": 962205909,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "advertisements\n    - id\n    - content\n    - redirect_url\n        .. metadata",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "advertisements\n    - id\n    - content\n    - redirect_url\n        .. metadata",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "hc3X7zmfJ6ctIorSjy76q",
      "type": "arrow",
      "x": 10679.592226115226,
      "y": -31222.32729131862,
      "width": 318.3140882807784,
      "height": 230.5897332427703,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aC",
      "roundness": {
        "type": 2
      },
      "seed": 1602588795,
      "version": 280,
      "versionNonce": 669049205,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724604176673,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          318.3140882807784,
          -230.5897332427703
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "S8t4fVs3p3eKXefCo8863",
        "focus": -0.0007418637074653172,
        "gap": 17.426181666089178,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "Dt2DBlPdqd3bN90WGUYde",
        "focus": 0.48409774128095157,
        "gap": 9.313827701202172,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "QaKYT6vEIU7yD5Xmvk1If",
      "type": "arrow",
      "x": 11408.957578002679,
      "y": -31510.754037835035,
      "width": 248.0383542669697,
      "height": 22.154914073809778,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aE",
      "roundness": {
        "type": 2
      },
      "seed": 380531253,
      "version": 313,
      "versionNonce": 344910549,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724604176674,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          248.0383542669697,
          22.154914073809778
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Dt2DBlPdqd3bN90WGUYde",
        "focus": -0.37715746674717887,
        "gap": 9.313827701202172,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "7pBBhgxlVrHki_s5JG8pZ",
        "focus": -0.15501248346945262,
        "gap": 1,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "type": "rectangle",
      "version": 279,
      "versionNonce": 1778380021,
      "index": "aH",
      "isDeleted": false,
      "id": "Cm2DYtqRPzD9Qj2cSc4vL",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11012.360193428518,
      "y": -30897.512950174474,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 392.42360820426984,
      "height": 196.21180410213492,
      "seed": 62919643,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "eY_IJcOtuW3_U6Vt7GezW",
          "type": "arrow"
        },
        {
          "id": "0qtopXrbsdcLHIa-UYdJY",
          "type": "arrow"
        },
        {
          "id": "NgRLmwP9r3QoW0I1_wuWj",
          "type": "arrow"
        }
      ],
      "updated": 1724601548492,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 379,
      "versionNonce": 2102086261,
      "index": "aI",
      "isDeleted": false,
      "id": "KJIAOPSw1GLbPiQ-lMYmR",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11077.086005099016,
      "y": -30842.472330054232,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 280.2239990234375,
      "height": 90,
      "seed": 2016883835,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Click Processor \nService",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Click Processor \nService",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "eY_IJcOtuW3_U6Vt7GezW",
      "type": "arrow",
      "x": 10655.736501215715,
      "y": -31010.156491469985,
      "width": 345.14039272700575,
      "height": 149.66264817366027,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aJ",
      "roundness": {
        "type": 2
      },
      "seed": 654355445,
      "version": 260,
      "versionNonce": 644353115,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724601548498,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          345.14039272700575,
          149.66264817366027
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "S8t4fVs3p3eKXefCo8863",
        "focus": 0.20706998417833158,
        "gap": 1,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "Cm2DYtqRPzD9Qj2cSc4vL",
        "focus": -0.15817379703734402,
        "gap": 11.483299485797033,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "type": "text",
      "version": 1035,
      "versionNonce": 1588059989,
      "index": "aL",
      "isDeleted": false,
      "id": "7DXhJGqGkIP7B85lNgYGB",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10413.969666772678,
      "y": -30266.480680580727,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1724.652099609375,
      "height": 405,
      "seed": 149279061,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724601555091,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Client Redirect vs Server redirect : \n    -The downside with this client redirect is that users could go to an advertiser's \nwebsite without us knowing about it. This could lead to discrepancies in our click \ndata and make it harder for advertisers to track the performance of their ads. \nSophisticated users could grab the url off of the page and navigate to it directly, \nbypassing our click tracking entirely. Someone would probably build a browser extension to do this.\n    - Server side redirect\n        - On Click \"/click\" is called with ad_id, we fetch the ad data (redirect_url) from the ad db\n          , we log the click and then we do the redirect(302),  so the click will always be logged",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Client Redirect vs Server redirect : \n    -The downside with this client redirect is that users could go to an advertiser's \nwebsite without us knowing about it. This could lead to discrepancies in our click \ndata and make it harder for advertisers to track the performance of their ads. \nSophisticated users could grab the url off of the page and navigate to it directly, \nbypassing our click tracking entirely. Someone would probably build a browser extension to do this.\n    - Server side redirect\n        - On Click \"/click\" is called with ad_id, we fetch the ad data (redirect_url) from the ad db\n          , we log the click and then we do the redirect(302),  so the click will always be logged",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "6Toh2847KTA4ARJl-beB2",
      "type": "text",
      "x": 10814.220377285146,
      "y": -31003.151749937533,
      "width": 435.635986328125,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aM",
      "roundness": null,
      "seed": 2111365749,
      "version": 110,
      "versionNonce": 806940981,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "/click()logs and redirects",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "/click()logs and redirects",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "0qtopXrbsdcLHIa-UYdJY",
      "type": "arrow",
      "x": 11343.902694175431,
      "y": -30907.773708185563,
      "width": 395.9133242104999,
      "height": 411.8561426350825,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aP",
      "roundness": {
        "type": 2
      },
      "seed": 456417077,
      "version": 272,
      "versionNonce": 1563357595,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "_5YCFNhBM7vaSXJhareRp"
        }
      ],
      "updated": 1724601548498,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          395.9133242104999,
          -411.8561426350825
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Cm2DYtqRPzD9Qj2cSc4vL",
        "focus": 0.10725206106439716,
        "gap": 10.260758011087091,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "7pBBhgxlVrHki_s5JG8pZ",
        "focus": -0.14143913250575146,
        "gap": 17.54047395632989,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "_5YCFNhBM7vaSXJhareRp",
      "type": "text",
      "x": 11511.648170819582,
      "y": -31751.79646293918,
      "width": 383.86798095703125,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aQ",
      "roundness": null,
      "seed": 118455163,
      "version": 23,
      "versionNonce": 73313755,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724600038535,
      "link": null,
      "locked": false,
      "text": "getRedirectUrl(ad_id)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "0qtopXrbsdcLHIa-UYdJY",
      "originalText": "getRedirectUrl(ad_id)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "ellipse",
      "version": 171,
      "versionNonce": 792455157,
      "index": "aR",
      "isDeleted": false,
      "id": "rAw0iH1me0wFMVvJR0HBF",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12735.117919983695,
      "y": -31010.123199009537,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 448.6474157658213,
      "height": 396.0128027430146,
      "seed": 302047803,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "id": "NgRLmwP9r3QoW0I1_wuWj",
          "type": "arrow"
        },
        {
          "id": "nWCkvOo5ufFKs-j35YKOP",
          "type": "arrow"
        }
      ],
      "updated": 1724601548492,
      "link": null,
      "locked": false
    },
    {
      "id": "NqaOwfJf6pdYkWaNEpNR5",
      "type": "text",
      "x": 12914.27030899695,
      "y": -30846.659570891286,
      "width": 91.90800476074219,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aS",
      "roundness": null,
      "seed": 847820091,
      "version": 92,
      "versionNonce": 1802670101,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "clicks\nDB",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "clicks\nDB",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "NgRLmwP9r3QoW0I1_wuWj",
      "type": "arrow",
      "x": 11410.331104277873,
      "y": -30798.83111561756,
      "width": 1312.6253836240685,
      "height": 2.6571364040974004,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aT",
      "roundness": {
        "type": 2
      },
      "seed": 1522216795,
      "version": 278,
      "versionNonce": 2095941339,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "iD--_J_aajfJmUoO-saln"
        }
      ],
      "updated": 1724601548499,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          1312.6253836240685,
          -2.6571364040974004
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Cm2DYtqRPzD9Qj2cSc4vL",
        "focus": 0.009993105098648043,
        "gap": 5.547302645085438,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "rAw0iH1me0wFMVvJR0HBF",
        "focus": -0.05125997945939611,
        "gap": 12.463286334407655,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "iD--_J_aajfJmUoO-saln",
      "type": "text",
      "x": 12096.948601839746,
      "y": -31438.25436725568,
      "width": 262.83599853515625,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aTV",
      "roundness": null,
      "seed": 1107951067,
      "version": 18,
      "versionNonce": 1303080219,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724600087769,
      "link": null,
      "locked": false,
      "text": "save click data",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "NgRLmwP9r3QoW0I1_wuWj",
      "originalText": "save click data",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "yAeHXX5Raw77Yfup6lkME",
      "type": "text",
      "x": 13209.212449851748,
      "y": -30944.97361784291,
      "width": 282.2039794921875,
      "height": 315,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aV",
      "roundness": null,
      "seed": 1715264571,
      "version": 147,
      "versionNonce": 2082688725,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "click_events\n    - id\n    - ad_id\n    - user_id\n    - timestamp\n        metadata\n      ",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "click_events\n    - id\n    - ad_id\n    - user_id\n    - timestamp\n        metadata\n      ",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "ZjeAHQriodmF_YHihj9ie",
      "type": "rectangle",
      "x": 12738.021267023403,
      "y": -32533.986348155493,
      "width": 425.1418246555695,
      "height": 236.48513996465772,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aW",
      "roundness": {
        "type": 3
      },
      "seed": 807744603,
      "version": 155,
      "versionNonce": 81570869,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724601548492,
      "link": null,
      "locked": false
    },
    {
      "id": "GW73Imo4fwjriwlQXtbfN",
      "type": "text",
      "x": 12820.897705633193,
      "y": -32444.164961341452,
      "width": 244.72618808079105,
      "height": 54.461051558878935,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aX",
      "roundness": null,
      "seed": 84804507,
      "version": 130,
      "versionNonce": 1564695957,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "Advertisers",
      "fontSize": 43.56884124710313,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Advertisers",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "InOreCZfguNzu87WgT7ZX",
      "type": "rectangle",
      "x": 12746.55114763566,
      "y": -32142.365644014677,
      "width": 425.1418246555677,
      "height": 199.28523030729775,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aY",
      "roundness": {
        "type": 3
      },
      "seed": 84814869,
      "version": 199,
      "versionNonce": 1284301557,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "394uZfWPPqeQe7nipf7DM",
          "type": "arrow"
        }
      ],
      "updated": 1724601548492,
      "link": null,
      "locked": false
    },
    {
      "id": "dUdjD2-rVzM8_qEGrmLFD",
      "type": "text",
      "x": 12812.9262964209,
      "y": -32078.647631633532,
      "width": 293.7159729003906,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aZ",
      "roundness": null,
      "seed": 265252661,
      "version": 146,
      "versionNonce": 1429105077,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "Aggregate Query\nService",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Aggregate Query\nService",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "vbInn6zIK4oWlf8crP06u",
      "type": "arrow",
      "x": 12937.918230047859,
      "y": -32312.156067290944,
      "width": 7.971409212292201,
      "height": 154.11391143764558,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aa",
      "roundness": {
        "type": 2
      },
      "seed": 671580155,
      "version": 181,
      "versionNonce": 125922069,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -7.971409212292201,
          154.11391143764558
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "dFfgToKTC7ooULd6Meg0t",
      "type": "text",
      "x": 12762.81353396341,
      "y": -30565.003112057,
      "width": 488.66400146484375,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ae",
      "roundness": null,
      "seed": 851678517,
      "version": 111,
      "versionNonce": 1856847989,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "Cassandra (write optimised)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Cassandra (write optimised)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 1364,
      "versionNonce": 964373685,
      "index": "af",
      "isDeleted": false,
      "id": "Sm2ycQzzoWaLC_hnE0AXw",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10382.305537830525,
      "y": -29669.892982904974,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1605.6007080078125,
      "height": 135,
      "seed": 314867451,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724601555091,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Separate the Read and  Writes in to 2 DBs.\n    - Read vs Write contention (maintain write heavy and read heavy processes separately)\n    - fault isolation (issues in read path do not impact issues in write path. and vice versa)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Separate the Read and  Writes in to 2 DBs.\n    - Read vs Write contention (maintain write heavy and read heavy processes separately)\n    - fault isolation (issues in read path do not impact issues in write path. and vice versa)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "0XFAjAjzj61QPcO6fHabm",
      "type": "ellipse",
      "x": 12816.076722898293,
      "y": -31844.13227290291,
      "width": 322.88051077613636,
      "height": 304.65338516780685,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ag",
      "roundness": {
        "type": 2
      },
      "seed": 493506011,
      "version": 83,
      "versionNonce": 544696789,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "394uZfWPPqeQe7nipf7DM",
          "type": "arrow"
        },
        {
          "id": "BrHTwYOMerlO88fYyCRzN",
          "type": "arrow"
        }
      ],
      "updated": 1724601548492,
      "link": null,
      "locked": false
    },
    {
      "id": "fiIVvv3dwejQXrRDtqbsb",
      "type": "text",
      "x": 12883.777475157805,
      "y": -31732.165644166023,
      "width": 203.47201538085938,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ai",
      "roundness": null,
      "seed": 790613973,
      "version": 74,
      "versionNonce": 485678581,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "OLAP\n(Snowflake)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "OLAP\n(Snowflake)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "394uZfWPPqeQe7nipf7DM",
      "type": "arrow",
      "x": 12941.0627270697,
      "y": -31940.47565111837,
      "width": 0,
      "height": 106.758878563076,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aj",
      "roundness": {
        "type": 2
      },
      "seed": 1841387221,
      "version": 151,
      "versionNonce": 259509275,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724601548499,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          106.758878563076
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "InOreCZfguNzu87WgT7ZX",
        "focus": 0.08495674547369644,
        "gap": 2.604762589011443,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "0XFAjAjzj61QPcO6fHabm",
        "focus": -0.22580645161290508,
        "gap": 1,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "A47vu0-f3D_UGQ9_o-aQt",
      "type": "rectangle",
      "x": 12597.35121559833,
      "y": -31378.038632347037,
      "width": 893.1291548081863,
      "height": 148.42087995354814,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "al",
      "roundness": {
        "type": 3
      },
      "seed": 245549531,
      "version": 94,
      "versionNonce": 445752501,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "nWCkvOo5ufFKs-j35YKOP",
          "type": "arrow"
        },
        {
          "id": "BrHTwYOMerlO88fYyCRzN",
          "type": "arrow"
        },
        {
          "id": "8SbLTq8HN7AdiHI3pO_T6",
          "type": "arrow"
        }
      ],
      "updated": 1724601548492,
      "link": null,
      "locked": false
    },
    {
      "id": "DJE6vnNv3epJ3Ge9gQi74",
      "type": "text",
      "x": 12797.849597289962,
      "y": -31354.603756564895,
      "width": 537.5520629882812,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "am",
      "roundness": null,
      "seed": 2045049045,
      "version": 146,
      "versionNonce": 734690907,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724605889762,
      "link": null,
      "locked": false,
      "text": "SPARK (batch processing data\nfrom clicksDB) map-reduce",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "SPARK (batch processing data\nfrom clicksDB) map-reduce",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "nWCkvOo5ufFKs-j35YKOP",
      "type": "arrow",
      "x": 12964.49760285184,
      "y": -31224.41000221968,
      "width": 2.6038750869029172,
      "height": 213.51775712615563,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "an",
      "roundness": {
        "type": 2
      },
      "seed": 48115355,
      "version": 161,
      "versionNonce": 966902107,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724601548499,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -2.6038750869029172,
          213.51775712615563
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "A47vu0-f3D_UGQ9_o-aQt",
        "focus": 0.17531845438740104,
        "gap": 5.2077501738094725,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "rAw0iH1me0wFMVvJR0HBF",
        "focus": 0.0001248528448802881,
        "gap": 1,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "BrHTwYOMerlO88fYyCRzN",
      "type": "arrow",
      "x": 12961.893727764937,
      "y": -31388.454132694653,
      "width": 5.2077501738076535,
      "height": 145.8170048666434,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ap",
      "roundness": {
        "type": 2
      },
      "seed": 2084042549,
      "version": 166,
      "versionNonce": 2067752603,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724601548499,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -5.2077501738076535,
          -145.8170048666434
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "A47vu0-f3D_UGQ9_o-aQt",
        "focus": -0.17586171203809287,
        "gap": 10.415500347615307,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "0XFAjAjzj61QPcO6fHabm",
        "focus": 0.1637895179807409,
        "gap": 6.43460056349997,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "jE3WvGYih6Hh1VXvZu_8l",
      "type": "ellipse",
      "x": 13454.026119189855,
      "y": -31805.07414659935,
      "width": 317.6727606023287,
      "height": 270.80300903805255,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ar",
      "roundness": {
        "type": 2
      },
      "seed": 150254741,
      "version": 65,
      "versionNonce": 1787884117,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "8SbLTq8HN7AdiHI3pO_T6",
          "type": "arrow"
        }
      ],
      "updated": 1724601548492,
      "link": null,
      "locked": false
    },
    {
      "id": "3X1i29hpV32GmwA-5iaXF",
      "type": "text",
      "x": 13513.915246188657,
      "y": -31706.126893296983,
      "width": 224.45999145507812,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "as",
      "roundness": null,
      "seed": 1429105301,
      "version": 90,
      "versionNonce": 138289429,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "CRON JOB\n(every 5 min)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "CRON JOB\n(every 5 min)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "8SbLTq8HN7AdiHI3pO_T6",
      "type": "arrow",
      "x": 13487.876495319613,
      "y": -31607.179639994618,
      "width": 114.57050382379202,
      "height": 226.53713256067567,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "at",
      "roundness": {
        "type": 2
      },
      "seed": 549316501,
      "version": 161,
      "versionNonce": 1864678363,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724601548499,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -114.57050382379202,
          226.53713256067567
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "jE3WvGYih6Hh1VXvZu_8l",
        "focus": 0.5398667834433737,
        "gap": 1,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "A47vu0-f3D_UGQ9_o-aQt",
        "focus": 0.6001731119972761,
        "gap": 2.6038750869047362,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "Eb2Y-qDcTh2WBk8-FNZs_",
      "type": "text",
      "x": 13618.07024966483,
      "y": -31346.792131304184,
      "width": 979.1639404296875,
      "height": 135,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "av",
      "roundness": null,
      "seed": 841423931,
      "version": 223,
      "versionNonce": 1442750421,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "Spark will get the data from clicks_db\naggregate it (minute by minute) and then store\nto Snowflake, this will allow faster aggregation queries ",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Spark will get the data from clicks_db\naggregate it (minute by minute) and then store\nto Snowflake, this will allow faster aggregation queries ",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Kv3H0jsKP64WC28hbb-YS",
      "type": "text",
      "x": 13258.735487672033,
      "y": -32109.727531767156,
      "width": 339.156005859375,
      "height": 270,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "aw",
      "roundness": null,
      "seed": 1906055067,
      "version": 99,
      "versionNonce": 153476405,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601548492,
      "link": null,
      "locked": false,
      "text": "- ad_id\n- minute_timestamp\n- total_clicks\n    .. metadata\n\n  ",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "- ad_id\n- minute_timestamp\n- total_clicks\n    .. metadata\n\n  ",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "2-aF56xdScIKQitMt-6S6",
      "type": "line",
      "x": 10062.382335186041,
      "y": -29274.980783824805,
      "width": 4588.020614008703,
      "height": 24.063045178369066,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "ax",
      "roundness": {
        "type": 2
      },
      "seed": 347540693,
      "version": 81,
      "versionNonce": 1653622939,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724601590716,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          0
        ],
        [
          4588.020614008703,
          -24.063045178369066
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "id": "cLWlm3QIsA9z_v_BXBVKY",
      "type": "text",
      "x": 10753.636174483434,
      "y": -28868.70308026586,
      "width": 2472.87646484375,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "az",
      "roundness": null,
      "seed": 1641404507,
      "version": 192,
      "versionNonce": 1497507323,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "text": "Problem with above is mainly the 5 minute window (this adds delay, we can reduce it but spark jobs have overhead to start again and again)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Problem with above is mainly the 5 minute window (this adds delay, we can reduce it but spark jobs have overhead to start again and again)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "hZEKs2JC66hn_CEZZHo6Y",
      "type": "text",
      "x": 10750.91621103975,
      "y": -28773.504359736664,
      "width": 782.019605994636,
      "height": 222.21517360410084,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b00",
      "roundness": null,
      "seed": 868887221,
      "version": 82,
      "versionNonce": 1134669467,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "text": "STREAMING SOLUTION : \n\n",
      "fontSize": 59.25737962776021,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "STREAMING SOLUTION : \n\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 291,
      "versionNonce": 373760827,
      "index": "b01",
      "isDeleted": false,
      "id": "pxeDySN4ObXOvBnjefzR4",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 9938.279961893373,
      "y": -27095.01453649255,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 100.62000274658203,
      "height": 45,
      "seed": 2030849019,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "USER",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "USER",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 332,
      "versionNonce": 697631707,
      "index": "b02",
      "isDeleted": false,
      "id": "Z9Eb-Rv_GRQvbDSzR8eMz",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11109.384142539522,
      "y": -27548.629913920457,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 392.42360820426984,
      "height": 196.21180410213492,
      "seed": 1932989595,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "LXncytZuiUpDq9FONseW0",
          "type": "arrow"
        },
        {
          "id": "VbeMeOE_pUybfvnLtD3zY",
          "type": "arrow"
        }
      ],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 393,
      "versionNonce": 43658683,
      "index": "b03",
      "isDeleted": false,
      "id": "YroHi2ebZDOMI9wtUu_Ry",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11187.448764379567,
      "y": -27513.60324217326,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 262.97198486328125,
      "height": 135,
      "seed": 977258811,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Ads service(\nserves adds \nfor a webpage)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Ads service(\nserves adds \nfor a webpage)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "ellipse",
      "version": 201,
      "versionNonce": 1545780827,
      "index": "b04",
      "isDeleted": false,
      "id": "eHyGDqb9KMm3bF2_jiN_g",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11754.272993195007,
      "y": -27663.289192711163,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 448.6474157658213,
      "height": 396.0128027430146,
      "seed": 1401481691,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "id": "VbeMeOE_pUybfvnLtD3zY",
          "type": "arrow"
        },
        {
          "id": "u5JFTOjRkotyDvoP3QNyh",
          "type": "arrow"
        }
      ],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 236,
      "versionNonce": 2043934779,
      "index": "b05",
      "isDeleted": false,
      "id": "_HnHmLpytN6DSn80CNrAb",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11873.469660004526,
      "y": -27510.548900190784,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 258.3000183105469,
      "height": 90,
      "seed": 1948579451,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Ads \nDB (Postgres)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Ads \nDB (Postgres)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 271,
      "versionNonce": 247412955,
      "index": "b06",
      "isDeleted": false,
      "id": "l36-O2YzMzrINUZKpr0mz",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12269.331736487386,
      "y": -27581.783468042275,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 316.33197021484375,
      "height": 225,
      "seed": 181825307,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "advertisements\n    - id\n    - content\n    - redirect_url\n        .. metadata",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "advertisements\n    - id\n    - content\n    - redirect_url\n        .. metadata",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "arrow",
      "version": 506,
      "versionNonce": 1479030869,
      "index": "b07",
      "isDeleted": false,
      "id": "LXncytZuiUpDq9FONseW0",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10781.049467838378,
      "y": -27176.756884727125,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 319.0208469999434,
      "height": 240.31445029574024,
      "seed": 168809403,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1724604745015,
      "link": null,
      "locked": false,
      "startBinding": null,
      "endBinding": {
        "elementId": "jRdChfP1e212fHbeIl8Qi",
        "focus": 0.5974301571308659,
        "gap": 23.374889692693614,
        "fixedPoint": null
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          319.0208469999434,
          -240.31445029574024
        ]
      ],
      "elbowed": false
    },
    {
      "type": "arrow",
      "version": 630,
      "versionNonce": 314762709,
      "index": "b08",
      "isDeleted": false,
      "id": "VbeMeOE_pUybfvnLtD3zY",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11511.121578444996,
      "y": -27475.918067847753,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 252.62862656192192,
      "height": 22.295288649787835,
      "seed": 1911792731,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1724604745016,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "jRdChfP1e212fHbeIl8Qi",
        "focus": -0.4959712544852059,
        "gap": 1,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "eHyGDqb9KMm3bF2_jiN_g",
        "focus": -0.15387882107462317,
        "gap": 1,
        "fixedPoint": null
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          252.62862656192192,
          22.295288649787835
        ]
      ],
      "elbowed": false
    },
    {
      "type": "rectangle",
      "version": 370,
      "versionNonce": 1922335419,
      "index": "b09",
      "isDeleted": false,
      "id": "GPtxrfLoiY0vBPCzYOJSJ",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11119.114466165787,
      "y": -26862.53660561121,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 392.42360820426984,
      "height": 196.21180410213492,
      "seed": 441737467,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "cBfRlHkaHJdBCyERZQhOV",
          "type": "arrow"
        },
        {
          "id": "u5JFTOjRkotyDvoP3QNyh",
          "type": "arrow"
        },
        {
          "id": "Hr306wyqR1zwCfo8vfrJm",
          "type": "arrow"
        }
      ],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 468,
      "versionNonce": 326880571,
      "index": "b0A",
      "isDeleted": false,
      "id": "k81S5vSehj7EQS8rvetqo",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11183.840277836285,
      "y": -26807.49598549097,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 280.2239990234375,
      "height": 90,
      "seed": 1018464667,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Click Processor \nService",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Click Processor \nService",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "arrow",
      "version": 463,
      "versionNonce": 1903256373,
      "index": "b0B",
      "isDeleted": false,
      "id": "cBfRlHkaHJdBCyERZQhOV",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10762.490773952986,
      "y": -26975.18014690672,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 345.14039272700575,
      "height": 149.66264817366027,
      "seed": 1044815419,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1724604745017,
      "link": null,
      "locked": false,
      "startBinding": null,
      "endBinding": {
        "elementId": "GPtxrfLoiY0vBPCzYOJSJ",
        "focus": -0.15817379703733989,
        "gap": 11.483299485795214,
        "fixedPoint": null
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          345.14039272700575,
          149.66264817366027
        ]
      ],
      "elbowed": false
    },
    {
      "type": "text",
      "version": 199,
      "versionNonce": 1764751995,
      "index": "b0C",
      "isDeleted": false,
      "id": "d1natOySULw7GAr3X_gc5",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10920.974650022416,
      "y": -26968.17540537427,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 435.635986328125,
      "height": 45,
      "seed": 971841243,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "/click()logs and redirects",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "/click()logs and redirects",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "arrow",
      "version": 589,
      "versionNonce": 1184881141,
      "index": "b0D",
      "isDeleted": false,
      "id": "u5JFTOjRkotyDvoP3QNyh",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11450.6569669127,
      "y": -26872.797363622296,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 395.9133242104999,
      "height": 411.8561426350825,
      "seed": 1245350779,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "type": "text",
          "id": "rQmB8cvOafoWNOU0SyyIK"
        }
      ],
      "updated": 1724604745017,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "GPtxrfLoiY0vBPCzYOJSJ",
        "focus": 0.10725206106440933,
        "gap": 10.260758011083453,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "eHyGDqb9KMm3bF2_jiN_g",
        "focus": -0.14143913250576948,
        "gap": 17.540473956332136,
        "fixedPoint": null
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          395.9133242104999,
          -411.8561426350825
        ]
      ],
      "elbowed": false
    },
    {
      "type": "text",
      "version": 27,
      "versionNonce": 2038201205,
      "index": "b0E",
      "isDeleted": false,
      "id": "rQmB8cvOafoWNOU0SyyIK",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 8780.97537700786,
      "y": -28254.13139490498,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 383.86798095703125,
      "height": 45,
      "seed": 326198299,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724601676666,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "getRedirectUrl(ad_id)",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "u5JFTOjRkotyDvoP3QNyh",
      "originalText": "getRedirectUrl(ad_id)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 219,
      "versionNonce": 858380219,
      "index": "b0K",
      "isDeleted": false,
      "id": "9NK_DcMlpu65RJhaSR96P",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12927.651978370463,
      "y": -28409.188616778185,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 244.72618808079105,
      "height": 54.461051558878935,
      "seed": 17585115,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 43.56884124710313,
      "fontFamily": 5,
      "text": "Advertisers",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Advertisers",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 288,
      "versionNonce": 1898784859,
      "index": "b0L",
      "isDeleted": false,
      "id": "8_prtrUG1buujKSE-h5Tt",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12853.305420372932,
      "y": -28107.38929945141,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 425.1418246555677,
      "height": 199.28523030729775,
      "seed": 833298555,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "r6ezDj_4u6Yc5Lcrn4rZS",
          "type": "arrow"
        }
      ],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 235,
      "versionNonce": 375197083,
      "index": "b0M",
      "isDeleted": false,
      "id": "8pKXwctvp42eR8WJLcabS",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12919.680569158167,
      "y": -28043.67128707027,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 293.7159729003906,
      "height": 90,
      "seed": 1241995547,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Aggregate Query\nService",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Aggregate Query\nService",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "arrow",
      "version": 270,
      "versionNonce": 1480499771,
      "index": "b0N",
      "isDeleted": false,
      "id": "ZXQtFLOJNAUCdGjRXcY-H",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 13044.672502785126,
      "y": -28277.179722727677,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 7.971409212292201,
      "height": 154.11391143764558,
      "seed": 1200848315,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "startBinding": null,
      "endBinding": null,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          -7.971409212292201,
          154.11391143764558
        ]
      ],
      "elbowed": false
    },
    {
      "type": "ellipse",
      "version": 174,
      "versionNonce": 1581556443,
      "index": "b0P",
      "isDeleted": false,
      "id": "rYx19bg2-S2YVpK5hiApq",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12922.830995635564,
      "y": -27809.155928339642,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 322.88051077613636,
      "height": 304.65338516780685,
      "seed": 376802043,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "id": "r6ezDj_4u6Yc5Lcrn4rZS",
          "type": "arrow"
        },
        {
          "id": "JItLVh4jKRdFazpVgF81I",
          "type": "arrow"
        }
      ],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 163,
      "versionNonce": 962211003,
      "index": "b0Q",
      "isDeleted": false,
      "id": "gg8gHgEIe_F4pvvW9s0L4",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12990.531747895073,
      "y": -27697.18929960276,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 203.47201538085938,
      "height": 90,
      "seed": 790655899,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "OLAP\n(Snowflake)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "OLAP\n(Snowflake)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "arrow",
      "version": 468,
      "versionNonce": 1110417589,
      "index": "b0R",
      "isDeleted": false,
      "id": "r6ezDj_4u6Yc5Lcrn4rZS",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 13047.81699980697,
      "y": -27905.499306555103,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 0,
      "height": 106.758878563076,
      "seed": 262490171,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1724604745017,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "8_prtrUG1buujKSE-h5Tt",
        "focus": 0.084956745473705,
        "gap": 2.604762589007805,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "rYx19bg2-S2YVpK5hiApq",
        "focus": -0.22580645161291626,
        "gap": 1,
        "fixedPoint": null
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          0,
          106.758878563076
        ]
      ],
      "elbowed": false
    },
    {
      "type": "text",
      "version": 191,
      "versionNonce": 2073852411,
      "index": "b0a",
      "isDeleted": false,
      "id": "msU1UhzObR3VHUOf3FQwd",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 13365.489760409304,
      "y": -28074.751187203896,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 339.156005859375,
      "height": 315,
      "seed": 91995611,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "- ad_id\n- minute_timestamp\n- total_clicks\n-adveritizer_id\n    .. metadata\n\n  ",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "- ad_id\n- minute_timestamp\n- total_clicks\n-adveritizer_id\n    .. metadata\n\n  ",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 263,
      "versionNonce": 1334936219,
      "index": "b0b",
      "isDeleted": false,
      "id": "WsN3mhtM4zxG-qakjutkw",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 9851.993479512157,
      "y": -27179.718454212973,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 392.42360820426984,
      "height": 196.21180410213492,
      "seed": 934741115,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "u_I2ggUKhiig69_pcwtab",
          "type": "arrow"
        }
      ],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "type": "rectangle",
      "version": 209,
      "versionNonce": 1923078107,
      "index": "b0c",
      "isDeleted": false,
      "id": "Do7Lqlf1GnxUKsrPmFxZq",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12826.278068031066,
      "y": -28524.11287567339,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 425.1418246555695,
      "height": 236.48513996465772,
      "seed": 652302421,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "id": "YQnhplDoYlV_fmAvwhlhY",
      "type": "rectangle",
      "x": 11804.640754069684,
      "y": -26880.32537362548,
      "width": 985.2477686256861,
      "height": 180.09905447996425,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0d",
      "roundness": {
        "type": 3
      },
      "seed": 734259125,
      "version": 82,
      "versionNonce": 281499515,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "Hr306wyqR1zwCfo8vfrJm",
          "type": "arrow"
        },
        {
          "id": "YInkEGudJdE95kg7YjrOV",
          "type": "arrow"
        },
        {
          "id": "jJIysWVKhVR2CVrmOQuBC",
          "type": "arrow"
        }
      ],
      "updated": 1724605821250,
      "link": null,
      "locked": false
    },
    {
      "id": "k2WYYTXjwgkLKpRLPsSs_",
      "type": "text",
      "x": 11931.769498408481,
      "y": -26806.166939427847,
      "width": 595.8359985351562,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0e",
      "roundness": null,
      "seed": 847590363,
      "version": 75,
      "versionNonce": 1864602203,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "text": "CLICK EVENTS STREAM (KAFKA)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "CLICK EVENTS STREAM (KAFKA)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Hr306wyqR1zwCfo8vfrJm",
      "type": "arrow",
      "x": 11539.789203363855,
      "y": -26769.087722329034,
      "width": 254.25748867759648,
      "height": 5.297031014117238,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0f",
      "roundness": {
        "type": 2
      },
      "seed": 1415281723,
      "version": 169,
      "versionNonce": 2094006485,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724604745018,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          254.25748867759648,
          -5.297031014117238
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "B3A8RWDa4VhCmjgW0LFaf",
        "focus": -0.2196413220031613,
        "gap": 5.5593014487640176,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "YQnhplDoYlV_fmAvwhlhY",
        "focus": -0.05390539053902361,
        "gap": 10.594062028232656,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "FN737zNC-b7fjMnZfVb13",
      "type": "rectangle",
      "x": 12985.06675931461,
      "y": -26905.291039648167,
      "width": 493.04145557325756,
      "height": 292.3459066145261,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0h",
      "roundness": {
        "type": 3
      },
      "seed": 1061187765,
      "version": 262,
      "versionNonce": 2139135253,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724604745019,
      "link": null,
      "locked": false
    },
    {
      "id": "EGUCIyqJ1PN9kT0XGjiLA",
      "type": "text",
      "x": 13037.568015470979,
      "y": -26827.05441682281,
      "width": 399.7484164095624,
      "height": 152.1705577589517,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0i",
      "roundness": null,
      "seed": 630693877,
      "version": 225,
      "versionNonce": 632666491,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "text": "FLINK\n( stream \naggregator)",
      "fontSize": 40.57881540238712,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "FLINK\n( stream aggregator)",
      "autoResize": false,
      "lineHeight": 1.25
    },
    {
      "id": "YInkEGudJdE95kg7YjrOV",
      "type": "arrow",
      "x": 12795.185553709485,
      "y": -26779.681784357264,
      "width": 157.8812056051247,
      "height": 1.2978974079123873,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0j",
      "roundness": {
        "type": 2
      },
      "seed": 1861532059,
      "version": 503,
      "versionNonce": 468422549,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724604745018,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          157.8812056051247,
          1.2978974079123873
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "YQnhplDoYlV_fmAvwhlhY",
        "focus": 0.06908442767334065,
        "gap": 5.297031014115419,
        "fixedPoint": null
      },
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "JItLVh4jKRdFazpVgF81I",
      "type": "arrow",
      "x": 13163.755453114745,
      "y": -26937.291039648167,
      "width": 40.15397653003129,
      "height": 541.5988385724886,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0m",
      "roundness": {
        "type": 2
      },
      "seed": 794995381,
      "version": 510,
      "versionNonce": 430693301,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724604745019,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -40.15397653003129,
          -541.5988385724886
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": {
        "elementId": "rYx19bg2-S2YVpK5hiApq",
        "focus": -0.16150949455574332,
        "gap": 29.50992576904912,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "jb55G2dUMOsMGlV7e7TsX",
      "type": "text",
      "x": 11902.263296228846,
      "y": -26651.991389243838,
      "width": 689.904052734375,
      "height": 180,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0o",
      "roundness": null,
      "seed": 1479574485,
      "version": 186,
      "versionNonce": 613590805,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724605133096,
      "link": null,
      "locked": false,
      "text": "- All the clicks are treated as a stream\n- 7 day retention policy\n- sharded by ad_id\n",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "- All the clicks are treated as a stream\n- 7 day retention policy\n- sharded by ad_id\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "Bf7pPv_QKiydjWNYKKJMd",
      "type": "text",
      "x": 12984.010187578833,
      "y": -26482.27356388181,
      "width": 851.0039672851562,
      "height": 270,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0p",
      "roundness": null,
      "seed": 1374386261,
      "version": 376,
      "versionNonce": 850960923,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724605777913,
      "link": null,
      "locked": false,
      "text": "Flink aggregates the results. In Flink,\nwe can have a an aggregation window (1 min)\nWhen a minute completes, we write the data \nto OLAP so for each ad, we will be writing from \nFlink to Snowflake\n",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Flink aggregates the results. In Flink,\nwe can have a an aggregation window (1 min)\nWhen a minute completes, we write the data \nto OLAP so for each ad, we will be writing from \nFlink to Snowflake\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "dQW7qApI6frz0os3M5zBw",
      "type": "text",
      "x": 13535.493198898754,
      "y": -26836.77362046499,
      "width": 585.9360961914062,
      "height": 180,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0q",
      "roundness": null,
      "seed": 461937275,
      "version": 119,
      "versionNonce": 1818979483,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "text": "ad_id : 1\nminute : 45\ncount : 100\n(above can be done for each ad) ",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "ad_id : 1\nminute : 45\ncount : 100\n(above can be done for each ad) ",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 482,
      "versionNonce": 992551227,
      "index": "b0r",
      "isDeleted": false,
      "id": "DkCbAAhUuiyCAnKqrg1XR",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 12978.574640741354,
      "y": -26234.558690260004,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1280.1600341796875,
      "height": 135,
      "seed": 881582715,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "Flush intervals, intervals, in which the intermediate\nresults are flushed  from the system (to send partial data, say 10 secs)\n",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Flush intervals, intervals, in which the intermediate\nresults are flushed  from the system (to send partial data, say 10 secs)\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 66,
      "versionNonce": 1411795637,
      "index": "b0s",
      "isDeleted": false,
      "id": "zur3eyppK_Cwkpt8Z8SKH",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10080.761045195213,
      "y": -32405.250988589745,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1038.2486572265625,
      "height": 222.2151736041008,
      "seed": 879008213,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604176043,
      "link": null,
      "locked": false,
      "fontSize": 59.25737962776021,
      "fontFamily": 5,
      "text": "BATCH PROCESSING SOLUTION : \n\n",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "BATCH PROCESSING SOLUTION : \n\n",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 597,
      "versionNonce": 495403483,
      "index": "b0t",
      "isDeleted": false,
      "id": "BGh5cz__42-EUNT4CrMUR",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10446.668614665823,
      "y": -25687.61663357374,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 2949.53662109375,
      "height": 444.4303472082016,
      "seed": 209189269,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "fontSize": 59.25737962776021,
      "fontFamily": 5,
      "text": "10K clicks handling (SCALING)\n    - horizontal scaling (autoscaling) for CLICKS and ADS Service\n    - Streaming service ?\n        - sharding on the basis of the ad_id (each add has its own stream)\n        - flink can scale horizontally as well. Separate flink job for each shard (no resource contention)\n    - Snowflake DB can be sharded also, shard by adveritizer_id",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "10K clicks handling (SCALING)\n    - horizontal scaling (autoscaling) for CLICKS and ADS Service\n    - Streaming service ?\n        - sharding on the basis of the ad_id (each add has its own stream)\n        - flink can scale horizontally as well. Separate flink job for each shard (no resource contention)\n    - Snowflake DB can be sharded also, shard by adveritizer_id",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "rectangle",
      "version": 414,
      "versionNonce": 403486581,
      "index": "b0u",
      "isDeleted": false,
      "id": "B3A8RWDa4VhCmjgW0LFaf",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11141.80629371082,
      "y": -26840.5441117407,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 392.42360820426984,
      "height": 196.21180410213492,
      "seed": 1374994357,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "Hr306wyqR1zwCfo8vfrJm",
          "type": "arrow"
        }
      ],
      "updated": 1724604745018,
      "link": null,
      "locked": false
    },
    {
      "type": "rectangle",
      "version": 370,
      "versionNonce": 1136147573,
      "index": "b0v",
      "isDeleted": false,
      "id": "jRdChfP1e212fHbeIl8Qi",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 11123.445204531015,
      "y": -27533.67522827853,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 392.42360820426984,
      "height": 196.21180410213492,
      "seed": 259989941,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "LXncytZuiUpDq9FONseW0",
          "type": "arrow"
        },
        {
          "id": "VbeMeOE_pUybfvnLtD3zY",
          "type": "arrow"
        }
      ],
      "updated": 1724604745016,
      "link": null,
      "locked": false
    },
    {
      "id": "e3QtSMt6phOHeec4j_88J",
      "type": "rectangle",
      "x": 10374.060915872926,
      "y": -27752.298114579193,
      "width": 399.35368966087117,
      "height": 1468.8871343848114,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0w",
      "roundness": {
        "type": 3
      },
      "seed": 1702900059,
      "version": 93,
      "versionNonce": 2139958203,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "u_I2ggUKhiig69_pcwtab",
          "type": "arrow"
        }
      ],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "id": "fxUXWO7_J4ouamiOJZrDj",
      "type": "text",
      "x": 10461.276089477025,
      "y": -27160.152988530317,
      "width": 236.22401428222656,
      "height": 135,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0x",
      "roundness": null,
      "seed": 798075547,
      "version": 81,
      "versionNonce": 576436475,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724604744808,
      "link": null,
      "locked": false,
      "text": "API Gateway\nROuting, LB,\nAuth",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "API Gateway\nROuting, LB,\nAuth",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "u_I2ggUKhiig69_pcwtab",
      "type": "arrow",
      "x": 10250.123563909208,
      "y": -27082.118359516124,
      "width": 119.34707966876522,
      "height": 0,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b0y",
      "roundness": {
        "type": 2
      },
      "seed": 942354933,
      "version": 156,
      "versionNonce": 64101333,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724604745019,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          119.34707966876522,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "WsN3mhtM4zxG-qakjutkw",
        "focus": -0.005155728082059334,
        "gap": 5.706476192781338,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "e3QtSMt6phOHeec4j_88J",
        "focus": 0.08750000000000405,
        "gap": 4.5902722949522285,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "type": "rectangle",
      "version": 314,
      "versionNonce": 1045952059,
      "index": "b0z",
      "isDeleted": false,
      "id": "YwibddQYav7kKOM-b5kqg",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 13010.231189316493,
      "y": -26888.61116299689,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 493.04145557325756,
      "height": 292.3459066145261,
      "seed": 2119530101,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [],
      "updated": 1724604744808,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 741,
      "versionNonce": 78760475,
      "index": "b10",
      "isDeleted": false,
      "id": "SfR0Q3gsLUroGP5bb5Co5",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10422.243140321685,
      "y": -25072.597110471575,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 2797.185302734375,
      "height": 518.5020717429019,
      "seed": 1966264309,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724604956313,
      "link": null,
      "locked": false,
      "fontSize": 59.25737962776021,
      "fontFamily": 5,
      "text": "HOT SHARD ISSUE : \n    \nTo solve the hot shard problem, we need a way of further partitioning the data. \nOne popular approach is to update the partition key by appending a random number to the AdId.\n We could do this only for the popular ads as determined by ad spend or\n previous click volume. This way, the partition key becomes AdId:0-N where N is the number \nof additional partitions for that AdId. (One FLink job will read from multiple sub-shards)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "HOT SHARD ISSUE : \n    \nTo solve the hot shard problem, we need a way of further partitioning the data. \nOne popular approach is to update the partition key by appending a random number to the AdId.\n We could do this only for the popular ads as determined by ad spend or\n previous click volume. This way, the partition key becomes AdId:0-N where N is the number \nof additional partitions for that AdId. (One FLink job will read from multiple sub-shards)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 1806,
      "versionNonce": 883046517,
      "index": "b11",
      "isDeleted": false,
      "id": "lKW7cS6Kn72iO52IX2ZyY",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10442.687495429489,
      "y": -24370.167089600716,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 3584.657470703125,
      "height": 1259.2193170899045,
      "seed": 1586076667,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724606770937,
      "link": null,
      "locked": false,
      "fontSize": 59.25737962776021,
      "fontFamily": 5,
      "text": "WHAT IF FLINK JOB GOES DOWN :\n    - By default streams are fault tolerant and distributed and replicated (Kafka) - no special handling needed\n    - To handle flink going down, enable retention in Kafka, Flink will know what it read last and continue after it goes down\n    - Flink has checkpointing (it is like snap shot, but this will make sense only aggregation window is large)\n      here it does not make sense as window is too small, we will just re read from stream.\n    - what if errors still happen in stream (some error, or bad code) ?\n        - RECONCILIATION \n            - dump data in S3/cassandra\n            - run a daily spark job\n            - let a worker consumer\n            - fix errors if any\n\n\n    \n                                           with a signature (and keep it in cache before we push add to webpage)\n    - if we receive a click with same impression id, we know its duplicate\n    - signature helps us make sure impression id Is valid",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "WHAT IF FLINK JOB GOES DOWN :\n    - By default streams are fault tolerant and distributed and replicated (Kafka) - no special handling needed\n    - To handle flink going down, enable retention in Kafka, Flink will know what it read last and continue after it goes down\n    - Flink has checkpointing (it is like snap shot, but this will make sense only aggregation window is large)\n      here it does not make sense as window is too small, we will just re read from stream.\n    - what if errors still happen in stream (some error, or bad code) ?\n        - RECONCILIATION \n            - dump data in S3/cassandra\n            - run a daily spark job\n            - let a worker consumer\n            - fix errors if any\n\n\n    \n                                           with a signature (and keep it in cache before we push add to webpage)\n    - if we receive a click with same impression id, we know its duplicate\n    - signature helps us make sure impression id Is valid",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "yyxtyyRLx9HNfdj6-nEVs",
      "type": "ellipse",
      "x": 14360.555568969025,
      "y": -27129.311854124902,
      "width": 665.8082134371598,
      "height": 604.9729452043248,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b13",
      "roundness": {
        "type": 2
      },
      "seed": 517960699,
      "version": 136,
      "versionNonce": 1582792155,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "jJIysWVKhVR2CVrmOQuBC",
          "type": "arrow"
        },
        {
          "id": "OnKw1nZZ42zstChrtTQIf",
          "type": "arrow"
        }
      ],
      "updated": 1724605921086,
      "link": null,
      "locked": false
    },
    {
      "id": "LxO7PhZVFnxxJwLSdOedB",
      "type": "text",
      "x": 14451.808471318287,
      "y": -26848.793672829044,
      "width": 482.2246922482948,
      "height": 65.27842274428049,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b14",
      "roundness": null,
      "seed": 926046619,
      "version": 88,
      "versionNonce": 1286416757,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724605868592,
      "link": null,
      "locked": false,
      "text": "S3 (raw click data)",
      "fontSize": 52.222738195424384,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "S3 (raw click data)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "jJIysWVKhVR2CVrmOQuBC",
      "type": "arrow",
      "x": 12643.649109953414,
      "y": -26909.628941061877,
      "width": 1692.2822730625921,
      "height": 269.63612597533574,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b15",
      "roundness": {
        "type": 2
      },
      "seed": 925608661,
      "version": 137,
      "versionNonce": 784366843,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724605866360,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          3.3797371240452776,
          -212.9234388149307
        ],
        [
          1692.2822730625921,
          56.71268716040504
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "YQnhplDoYlV_fmAvwhlhY",
        "focus": 0.6972729835515075,
        "gap": 29.303567436396406,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "yyxtyyRLx9HNfdj6-nEVs",
        "focus": -0.100902234653635,
        "gap": 25.75899822509524,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "type": "rectangle",
      "version": 138,
      "versionNonce": 1990672795,
      "index": "b17",
      "isDeleted": false,
      "id": "Yq5H145798drXiP64LCV-",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 14214.787595605094,
      "y": -27396.16731017229,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 893.1291548081863,
      "height": 148.42087995354814,
      "seed": 73971509,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "OnKw1nZZ42zstChrtTQIf",
          "type": "arrow"
        },
        {
          "id": "pSDawweFJ3jaHCQhQnGZm",
          "type": "arrow"
        },
        {
          "id": "GxoWv-UBwzu1qT6cg_qWZ",
          "type": "arrow"
        }
      ],
      "updated": 1724605983240,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 185,
      "versionNonce": 1455888981,
      "index": "b18",
      "isDeleted": false,
      "id": "wsvmb1GgJb6jzNpkPBVV_",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 14415.285977296726,
      "y": -27372.73243439015,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 537.5520629882812,
      "height": 90,
      "seed": 1159071893,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724605909910,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 5,
      "text": "SPARK (batch processing data\nfrom clicksDB) map-reduce",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "SPARK (batch processing data\nfrom clicksDB) map-reduce",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "OnKw1nZZ42zstChrtTQIf",
      "type": "arrow",
      "x": 14674.871121505374,
      "y": -27234.08370497031,
      "width": 20.27842274427894,
      "height": 98.01237659734761,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1B",
      "roundness": {
        "type": 2
      },
      "seed": 1374539355,
      "version": 20,
      "versionNonce": 1216617883,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724605921857,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          20.27842274427894,
          98.01237659734761
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "Yq5H145798drXiP64LCV-",
        "focus": 0.010092054693983143,
        "gap": 13.662725248432253,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "yyxtyyRLx9HNfdj6-nEVs",
        "focus": 0.19387328265295772,
        "gap": 6.763300753353121,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "UkBodigfL0BZoonz1fxKt",
      "type": "ellipse",
      "x": 15249.426432593275,
      "y": -27504.462674894003,
      "width": 419.0874033817654,
      "height": 361.63187227297385,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1D",
      "roundness": {
        "type": 2
      },
      "seed": 969056123,
      "version": 42,
      "versionNonce": 2031896315,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "pSDawweFJ3jaHCQhQnGZm",
          "type": "arrow"
        }
      ],
      "updated": 1724605956439,
      "link": null,
      "locked": false
    },
    {
      "id": "zTt-B_ivKPj_sPLkROnNh",
      "type": "text",
      "x": 15354.198283438714,
      "y": -27352.374504311912,
      "width": 215.35202026367188,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1E",
      "roundness": null,
      "seed": 1197790197,
      "version": 36,
      "versionNonce": 1673125979,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724605951978,
      "link": null,
      "locked": false,
      "text": "CRON JOBS\n(daily recon)",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "CRON JOBS\n(daily recon)",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "pSDawweFJ3jaHCQhQnGZm",
      "type": "arrow",
      "x": 15239.287221221135,
      "y": -27332.096081567634,
      "width": 114.91106221758128,
      "height": 0,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1F",
      "roundness": {
        "type": 2
      },
      "seed": 303399989,
      "version": 31,
      "versionNonce": 1585011707,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724605957061,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -114.91106221758128,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "UkBodigfL0BZoonz1fxKt",
        "focus": 0.046728971962615225,
        "gap": 10.353859202308172,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "Yq5H145798drXiP64LCV-",
        "focus": -0.13662782992917344,
        "gap": 16.459408590273597,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "86mfvJRkXH9u-n6tBk6aM",
      "type": "rectangle",
      "x": 13985.404748199884,
      "y": -27899.891918407448,
      "width": 652.2892649409732,
      "height": 260.23975855157914,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1H",
      "roundness": {
        "type": 3
      },
      "seed": 2102393307,
      "version": 27,
      "versionNonce": 640734523,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "GxoWv-UBwzu1qT6cg_qWZ",
          "type": "arrow"
        },
        {
          "id": "D1q_FimN0T8U_ILlgTkvv",
          "type": "arrow"
        }
      ],
      "updated": 1724605996855,
      "link": null,
      "locked": false
    },
    {
      "id": "WrOcKvZxlWBRjODNY_bJ0",
      "type": "text",
      "x": 14076.65765054914,
      "y": -27788.360593313915,
      "width": 470.6639709472656,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1I",
      "roundness": null,
      "seed": 1701444757,
      "version": 29,
      "versionNonce": 2052668763,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724605979345,
      "link": null,
      "locked": false,
      "text": "RECONCILIATION WORKS",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "RECONCILIATION WORKS",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "GxoWv-UBwzu1qT6cg_qWZ",
      "type": "arrow",
      "x": 14384.21372883737,
      "y": -27615.993999987542,
      "width": 87.87316522520814,
      "height": 209.5437016908836,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1J",
      "roundness": {
        "type": 2
      },
      "seed": 751834933,
      "version": 45,
      "versionNonce": 645127285,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1724605984355,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          87.87316522520814,
          209.5437016908836
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "86mfvJRkXH9u-n6tBk6aM",
        "focus": -0.0214776632302432,
        "gap": 23.658159868326038,
        "fixedPoint": null
      },
      "endBinding": {
        "elementId": "Yq5H145798drXiP64LCV-",
        "focus": -0.32203758506946734,
        "gap": 10.282988124366966,
        "fixedPoint": null
      },
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "D1q_FimN0T8U_ILlgTkvv",
      "type": "arrow",
      "x": 13978.645273951792,
      "y": -27764.70243344559,
      "width": 699.6055846776235,
      "height": 108.1515879694889,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1L",
      "roundness": {
        "type": 2
      },
      "seed": 956880021,
      "version": 31,
      "versionNonce": 1782270427,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "VgR4TM-4e0I9CjB-4CyAe"
        }
      ],
      "updated": 1724606003262,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -699.6055846776235,
          108.1515879694889
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "86mfvJRkXH9u-n6tBk6aM",
        "focus": 0.2569749039113799,
        "gap": 6.759474248092374,
        "fixedPoint": null
      },
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "elbowed": false
    },
    {
      "id": "VgR4TM-4e0I9CjB-4CyAe",
      "type": "text",
      "x": 13392.866483688176,
      "y": -27733.126639460846,
      "width": 471.9519958496094,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1M",
      "roundness": null,
      "seed": 1423354197,
      "version": 30,
      "versionNonce": 829552277,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724606002553,
      "link": null,
      "locked": false,
      "text": "Fix incorrect results if any",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "D1q_FimN0T8U_ILlgTkvv",
      "originalText": "Fix incorrect results if any",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "hCiCTsUWlEO_SRAFPjHrj",
      "type": "text",
      "x": 13336.495220382953,
      "y": -27105.65369425652,
      "width": 379.0799865722656,
      "height": 45,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1N",
      "roundness": null,
      "seed": 544263963,
      "version": 27,
      "versionNonce": 1718362971,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724606014142,
      "link": null,
      "locked": false,
      "text": "dump raw clicks to S3",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "dump raw clicks to S3",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "type": "text",
      "version": 1687,
      "versionNonce": 296495035,
      "index": "b1O",
      "isDeleted": false,
      "id": "n9qBR2qpExTXOGnH-bBDp",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "angle": 0,
      "x": 10452.5113939644,
      "y": -23402.581605871008,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 993.746337890625,
      "height": 518.5020717429019,
      "seed": 643284571,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1724606256653,
      "link": null,
      "locked": false,
      "fontSize": 59.25737962776021,
      "fontFamily": 5,
      "text": "IDEMPOTENCY : \n    - generate an add impression id\n\n\n    \n\n    ",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "IDEMPOTENCY : \n    - generate an add impression id\n\n\n    \n\n    ",
      "autoResize": true,
      "lineHeight": 1.25
    },
    {
      "id": "kWmLQr-Z2DzeOPq4glJsH",
      "type": "text",
      "x": 11096.530451089619,
      "y": -27672.81415207105,
      "width": 596.5199584960938,
      "height": 90,
      "angle": 0,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 4,
      "strokeStyle": "solid",
      "roughness": 2,
      "opacity": 100,
      "groupIds": [],
      "frameId": null,
      "index": "b1P",
      "roundness": null,
      "seed": 725687701,
      "version": 65,
      "versionNonce": 57278901,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1724606567076,
      "link": null,
      "locked": false,
      "text": "generate a unique ad impression id\nwith timestamp signature",
      "fontSize": 36,
      "fontFamily": 5,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "generate a unique ad impression id\nwith timestamp signature",
      "autoResize": true,
      "lineHeight": 1.25
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}